shadow$provide.module$node_modules$svgpath$lib$svgpath=function(global,require,module,exports){function SvgPath(path){if(!(this instanceof SvgPath))return new SvgPath(path);path=pathParse(path);this.segments=path.segments;this.err=path.err;this.__stack=[]}var pathParse=require("module$node_modules$svgpath$lib$path_parse"),transformParse=require("module$node_modules$svgpath$lib$transform_parse"),matrix=require("module$node_modules$svgpath$lib$matrix"),a2c=require("module$node_modules$svgpath$lib$a2c"),
ellipse=require("module$node_modules$svgpath$lib$ellipse");SvgPath.from=function(src){if("string"===typeof src)return new SvgPath(src);if(src instanceof SvgPath){var s=new SvgPath("");s.err=src.err;s.segments=src.segments.map(function(sgm){return sgm.slice()});s.__stack=src.__stack.map(function(m){return matrix().matrix(m.toArray())});return s}throw Error("SvgPath.from: invalid param type "+src);};SvgPath.prototype.__matrix=function(m){var self=this,i;m.queue.length&&this.iterate(function(s,index,
x,y){switch(s[0]){case "v":var p=m.calc(0,s[1],!0);x=0===p[0]?["v",p[1]]:["l",p[0],p[1]];break;case "V":p=m.calc(x,s[1],!1);x=p[0]===m.calc(x,y,!1)[0]?["V",p[1]]:["L",p[0],p[1]];break;case "h":p=m.calc(s[1],0,!0);x=0===p[1]?["h",p[0]]:["l",p[0],p[1]];break;case "H":p=m.calc(s[1],y,!1);x=p[1]===m.calc(x,y,!1)[1]?["H",p[0]]:["L",p[0],p[1]];break;case "a":case "A":p=m.toArray();var e=ellipse(s[1],s[2],s[3]).transform(p);0>p[0]*p[3]-p[1]*p[2]&&(s[5]=s[5]?"0":"1");p=m.calc(s[6],s[7],"a"===s[0]);if("A"===
s[0]&&s[6]===x&&s[7]===y||"a"===s[0]&&0===s[6]&&0===s[7]){x=["a"===s[0]?"l":"L",p[0],p[1]];break}x=e.isDegenerate()?["a"===s[0]?"l":"L",p[0],p[1]]:[s[0],e.rx,e.ry,e.ax,s[4],s[5],p[0],p[1]];break;case "m":p=m.calc(s[1],s[2],0<index);x=["m",p[0],p[1]];break;default:for(p=s[0],x=[p],y=p.toLowerCase()===p,i=1;i<s.length;i+=2)p=m.calc(s[i],s[i+1],y),x.push(p[0],p[1])}self.segments[index]=x},!0)};SvgPath.prototype.__evaluateStack=function(){var i;if(this.__stack.length){if(1===this.__stack.length)this.__matrix(this.__stack[0]);
else{var m=matrix();for(i=this.__stack.length;0<=--i;)m.matrix(this.__stack[i].toArray());this.__matrix(m)}this.__stack=[]}};SvgPath.prototype.toString=function(){var result="",prevCmd="";this.__evaluateStack();for(var i=0,len=this.segments.length;i<len;i++){var segment=this.segments[i],cmd=segment[0];cmd!==prevCmd||"m"===cmd||"M"===cmd?("m"===cmd&&"z"===prevCmd&&(result+=" "),result+=cmd,prevCmd=!1):prevCmd=!0;for(var pos=1;pos<segment.length;pos++){var val=segment[pos];1===pos?prevCmd&&0<=val&&
(result+=" "):0<=val&&(result+=" ");result+=val}prevCmd=cmd}return result};SvgPath.prototype.translate=function(x,y){this.__stack.push(matrix().translate(x,y||0));return this};SvgPath.prototype.scale=function(sx,sy){this.__stack.push(matrix().scale(sx,sy||0===sy?sy:sx));return this};SvgPath.prototype.rotate=function(angle,rx,ry){this.__stack.push(matrix().rotate(angle,rx||0,ry||0));return this};SvgPath.prototype.skewX=function(degrees){this.__stack.push(matrix().skewX(degrees));return this};SvgPath.prototype.skewY=
function(degrees){this.__stack.push(matrix().skewY(degrees));return this};SvgPath.prototype.matrix=function(m){this.__stack.push(matrix().matrix(m));return this};SvgPath.prototype.transform=function(transformString){if(!transformString.trim())return this;this.__stack.push(transformParse(transformString));return this};SvgPath.prototype.round=function(d){var contourStartDeltaX=0,contourStartDeltaY=0,deltaX=0,deltaY=0,l;d=d||0;this.__evaluateStack();this.segments.forEach(function(s){var isRelative=s[0].toLowerCase()===
s[0];switch(s[0]){case "H":case "h":isRelative&&(s[1]+=deltaX);deltaX=s[1]-s[1].toFixed(d);s[1]=+s[1].toFixed(d);break;case "V":case "v":isRelative&&(s[1]+=deltaY);deltaY=s[1]-s[1].toFixed(d);s[1]=+s[1].toFixed(d);break;case "Z":case "z":deltaX=contourStartDeltaX;deltaY=contourStartDeltaY;break;case "M":case "m":isRelative&&(s[1]+=deltaX,s[2]+=deltaY);deltaX=s[1]-s[1].toFixed(d);deltaY=s[2]-s[2].toFixed(d);contourStartDeltaX=deltaX;contourStartDeltaY=deltaY;s[1]=+s[1].toFixed(d);s[2]=+s[2].toFixed(d);
break;case "A":case "a":isRelative&&(s[6]+=deltaX,s[7]+=deltaY);deltaX=s[6]-s[6].toFixed(d);deltaY=s[7]-s[7].toFixed(d);s[1]=+s[1].toFixed(d);s[2]=+s[2].toFixed(d);s[3]=+s[3].toFixed(d+2);s[6]=+s[6].toFixed(d);s[7]=+s[7].toFixed(d);break;default:l=s.length,isRelative&&(s[l-2]+=deltaX,s[l-1]+=deltaY),deltaX=s[l-2]-s[l-2].toFixed(d),deltaY=s[l-1]-s[l-1].toFixed(d),s.forEach(function(val,i){i&&(s[i]=+s[i].toFixed(d))})}});return this};SvgPath.prototype.iterate=function(iterator,keepLazyStack){var segments=
this.segments,replacements={},needReplace=!1,lastX=0,lastY=0,countourStartX=0,countourStartY=0,j;keepLazyStack||this.__evaluateStack();segments.forEach(function(s,index){var res=iterator(s,index,lastX,lastY);Array.isArray(res)&&(replacements[index]=res,needReplace=!0);index=s[0]===s[0].toLowerCase();switch(s[0]){case "m":case "M":lastX=s[1]+(index?lastX:0);lastY=s[2]+(index?lastY:0);countourStartX=lastX;countourStartY=lastY;break;case "h":case "H":lastX=s[1]+(index?lastX:0);break;case "v":case "V":lastY=
s[1]+(index?lastY:0);break;case "z":case "Z":lastX=countourStartX;lastY=countourStartY;break;default:lastX=s[s.length-2]+(index?lastX:0),lastY=s[s.length-1]+(index?lastY:0)}});if(!needReplace)return this;var newSegments=[];for(keepLazyStack=0;keepLazyStack<segments.length;keepLazyStack++)if("undefined"!==typeof replacements[keepLazyStack])for(j=0;j<replacements[keepLazyStack].length;j++)newSegments.push(replacements[keepLazyStack][j]);else newSegments.push(segments[keepLazyStack]);this.segments=newSegments;
return this};SvgPath.prototype.abs=function(){this.iterate(function(s,index,x,y){index=s[0];var nameUC=index.toUpperCase();if(index!==nameUC)switch(s[0]=nameUC,index){case "v":s[1]+=y;break;case "a":s[6]+=x;s[7]+=y;break;default:for(index=1;index<s.length;index++)s[index]+=index%2?x:y}},!0);return this};SvgPath.prototype.rel=function(){this.iterate(function(s,index,x,y){var name=s[0],nameLC=name.toLowerCase();if(name!==nameLC&&(0!==index||"M"!==name))switch(s[0]=nameLC,name){case "V":s[1]-=y;break;
case "A":s[6]-=x;s[7]-=y;break;default:for(index=1;index<s.length;index++)s[index]-=index%2?x:y}},!0);return this};SvgPath.prototype.unarc=function(){this.iterate(function(s$jscomp$0,index,x,y){var result=[];index=s$jscomp$0[0];if("A"!==index&&"a"!==index)return null;if("a"===index){index=x+s$jscomp$0[6];var nextY=y+s$jscomp$0[7]}else index=s$jscomp$0[6],nextY=s$jscomp$0[7];x=a2c(x,y,index,nextY,s$jscomp$0[4],s$jscomp$0[5],s$jscomp$0[1],s$jscomp$0[2],s$jscomp$0[3]);if(0===x.length)return[["a"===s$jscomp$0[0]?
"l":"L",s$jscomp$0[6],s$jscomp$0[7]]];x.forEach(function(s){result.push(["C",s[2],s[3],s[4],s[5],s[6],s[7]])});return result});return this};SvgPath.prototype.unshort=function(){var segments=this.segments,prevControlX,prevControlY,prevSegment,curControlX,curControlY;this.iterate(function(s,idx,x,y){var name=s[0],nameUC=name.toUpperCase();idx&&("T"===nameUC?(name="t"===name,prevSegment=segments[idx-1],"Q"===prevSegment[0]?(prevControlX=prevSegment[1]-x,prevControlY=prevSegment[2]-y):"q"===prevSegment[0]?
(prevControlX=prevSegment[1]-prevSegment[3],prevControlY=prevSegment[2]-prevSegment[4]):prevControlY=prevControlX=0,curControlX=-prevControlX,curControlY=-prevControlY,name||(curControlX+=x,curControlY+=y),segments[idx]=[name?"q":"Q",curControlX,curControlY,s[1],s[2]]):"S"===nameUC&&(name="s"===name,prevSegment=segments[idx-1],"C"===prevSegment[0]?(prevControlX=prevSegment[3]-x,prevControlY=prevSegment[4]-y):"c"===prevSegment[0]?(prevControlX=prevSegment[3]-prevSegment[5],prevControlY=prevSegment[4]-
prevSegment[6]):prevControlY=prevControlX=0,curControlX=-prevControlX,curControlY=-prevControlY,name||(curControlX+=x,curControlY+=y),segments[idx]=[name?"c":"C",curControlX,curControlY,s[1],s[2],s[3],s[4]]))});return this};module.exports=SvgPath}
//# sourceMappingURL=module$node_modules$svgpath$lib$svgpath.js.map
